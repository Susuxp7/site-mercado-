<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Produto</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css"></head>
<body>
<nav class="navbar navbar-dark bg-success"><div class="container"><a class="navbar-brand" href="index.html">Meu Mercado</a></div></nav>
<main class="container my-4" id="root"></main>
<script>
const API = (location.hostname==='localhost'||location.hostname==='127.0.0.1')?'http://localhost:4000/api':'/api';
const params = new URLSearchParams(location.search);
const id = params.get('id');
if (!id) document.getElementById('root').innerHTML='<p>Produto não especificado</p>';
else fetch(API+'/products/'+id).then(r=>r.json()).then(p=>{
  if (p.error) document.getElementById('root').innerHTML='<p>Não encontrado</p>';
  else document.getElementById('root').innerHTML=`<div class="row"><div class="col-md-6"><img src="${p.image}" class="img-fluid"></div><div class="col-md-6"><h2>${p.name}</h2><h4 class="text-success">R$ ${p.price.toFixed(2).replace('.',',')}</h4><p>${p.description}</p><button class="btn btn-success" onclick="addToCart(${p.id})">Adicionar</button></div></div>`;
});
</script>
<script src="js/app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body></html>
